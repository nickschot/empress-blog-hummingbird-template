{{!--
Re-usable card for linking to posts
--}}

<article local-class="post-card {{if @post.image "with-image"}}" ...attributes>
  <LinkTo local-class="link" @route="post" @model={{@post.id}} style={{unless @post.image (gradient-bg seed=@post.title)}}>
    {{#if @post.image}}
      <div local-class="image">
        <img src={{@post.image}} alt={{@post.title}}>
      </div>
    {{/if}}
    <div local-class="content">
      {{#if @post.primaryTag}}
        <span local-class="tag">{{if @post.primaryTag.name @post.primaryTag.name @post.primaryTag}}</span>
      {{/if}}
      <h2 local-class="title">{{@post.title}}</h2>
    </div>

    <footer local-class="meta">
      <ul local-class="author-list">
        {{#each @post.authors as |author|}}
          <li local-class="author-list-item">
            <div local-class="author-name-tooltip">
              {{author.name}}
            </div>

            {{#if author.image}}
              <LinkTo @route="author" @model={{author.id}} local-class="static-avatar">
                <img local-class="author-profile-image" src={{author.image}} alt={{author.name}}>
              </LinkTo>
            {{else}}
              <LinkTo @route="author" @model={{author.id}} local-class="static-avatar author-profile-image"><SvgIcons::Avatar/></LinkTo>
            {{/if}}
          </li>
        {{/each}}
      </ul>

      <span local-class="reading-time">{{reading-time @post}}</span>
    </footer>
  </LinkTo>
</article>